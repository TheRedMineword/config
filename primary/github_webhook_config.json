{
    "file_rules": [
{ "match": "ws_players.json", "webhook": "dbupdate" }
],
    "event_webhook": {
        "xyz": "stars"
    },
    "use_custom_handler_for_events": [
        "push"
    ],
    "custom_handler_b64": "Ly8gQ3VzdG9tIGhhbmRsZXIgZm9yIHB1c2ggZXZlbnRzIHdpdGggb3B0aW9uYWwgIndoaXRlIG1vZGUiIGZvciB3c19wbGF5ZXJzLmpzb24gdXBkYXRlcwppZiAoZXZlbnQgPT09ICJwdXNoIikgewogIGVtYmVkcy5sZW5ndGggPSAwOyAvLyBjbGVhciBkZWZhdWx0IGVtYmVkcwoKICBjb25zdCB7IHJlcG9zaXRvcnksIHJlZiwgY29tbWl0cywgcHVzaGVyLCBjb21wYXJlIH0gPSBwYXlsb2FkOwogIGNvbnN0IGJyYW5jaCA9IHJlZi5zcGxpdCgiLyIpLnBvcCgpOwogIGNvbnN0IHNob3J0QnJhbmNoID0gYnJhbmNoLmxlbmd0aCA+IDMwID8gYnJhbmNoLnNsaWNlKDAsIDI3KSArICIuLi4iIDogYnJhbmNoOwoKICAvLyBGbGF0dGVuIGFsbCBjaGFuZ2VkIGZpbGVzCiAgY29uc3QgY2hhbmdlZEZpbGVzID0gY29tbWl0cy5mbGF0TWFwKGMgPT4gWy4uLmMuYWRkZWQsIC4uLmMubW9kaWZpZWQsIC4uLmMucmVtb3ZlZF0pOwogIGNvbnN0IGhhc1doaXRlRmlsZSA9IGNoYW5nZWRGaWxlcy5zb21lKGYgPT4gZi5pbmNsdWRlcygid3NfcGxheWVycy5qc29uIikpOwoKICAvLyBUaGVtZSBjb2xvcnMgKyBpY29ucwogIGNvbnN0IGFjY2VudENvbG9yID0gaGFzV2hpdGVGaWxlID8gMHhmZmZmZmYgOiAweDAwY2NmZjsKICBjb25zdCBzZWNvbmRhcnlDb2xvciA9IGhhc1doaXRlRmlsZSA/IDB4ZWVlZWVlIDogMHg4OGNjODg7CiAgY29uc3QgdGl0bGVJY29uID0gaGFzV2hpdGVGaWxlID8gIvCfpI0iIDogIvCfk6YiOwogIGNvbnN0IGNoYW5nZUljb24gPSBoYXNXaGl0ZUZpbGUgPyAi8J+qtiIgOiAi8J+ThCI7CgogIC8vIENvbW1pdCBzdW1tYXJ5CiAgY29uc3QgY29tbWl0TGluZXMgPSBjb21taXRzCiAgICAubWFwKGMgPT4gYFtcYCR7Yy5pZC5zbGljZSgwLCA3KX1cYF0oJHtjLnVybH0pIOKAlCAke2MubWVzc2FnZS5zcGxpdCgiXG4iKVswXX1gKQogICAgLmpvaW4oIlxuIik7CgogIC8vIC0tLSBNYWluIEVtYmVkIC0tLQogIGVtYmVkcy5wdXNoKHsKICAgIGF1dGhvciwKICAgIHRpdGxlOiBgJHt0aXRsZUljb259ICR7aGFzV2hpdGVGaWxlID8gIkRhdGFiYXNlIFVwZGF0ZWQiIDogYFB1c2hlZCB0byAke3JlcG9zaXRvcnkubmFtZX06JHtzaG9ydEJyYW5jaH1gfWAsCiAgICBkZXNjcmlwdGlvbjoKICAgICAgYCoqQnk6KiogJHtwdXNoZXIubmFtZSB8fCBwdXNoZXIuZW1haWx9XG5gICsKICAgICAgYCR7Y29tcGFyZSA/IGBbVmlldyBDaGFuZ2VzXSgke2NvbXBhcmV9KWAgOiAiIn1cblxuYCArCiAgICAgIGNvbW1pdExpbmVzLAogICAgY29sb3I6IGFjY2VudENvbG9yLAogICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksCiAgfSk7CgogIC8vIC0tLSBPcHRpb25hbCBmaWxlIGRpZmYgc3VtbWFyeSAoc2tpcCBpZiB3aGl0ZSBtb2RlKSAtLS0KICBpZiAoIWhhc1doaXRlRmlsZSkgewogICAgY29uc3QgYWRkZWQgPSBbXSwgcmVtb3ZlZCA9IFtdLCBtb2RpZmllZCA9IFtdOwogICAgZm9yIChjb25zdCBjb21taXQgb2YgY29tbWl0cykgewogICAgICBhZGRlZC5wdXNoKC4uLmNvbW1pdC5hZGRlZCk7CiAgICAgIHJlbW92ZWQucHVzaCguLi5jb21taXQucmVtb3ZlZCk7CiAgICAgIG1vZGlmaWVkLnB1c2goLi4uY29tbWl0Lm1vZGlmaWVkKTsKICAgIH0KCiAgICBjb25zdCB0b3RhbENoYW5nZXMgPSBhZGRlZC5sZW5ndGggKyByZW1vdmVkLmxlbmd0aCArIG1vZGlmaWVkLmxlbmd0aDsKICAgIGlmICh0b3RhbENoYW5nZXMgPiAwKSB7CiAgICAgIGNvbnN0IG1heFNob3duID0gMjA7CiAgICAgIGNvbnN0IGRpZmZMaW5lcyA9IFtdOwoKICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGFkZGVkLnNsaWNlKC1tYXhTaG93bikpIGRpZmZMaW5lcy5wdXNoKGArICR7ZmlsZX1gKTsKICAgICAgZm9yIChjb25zdCBmaWxlIG9mIHJlbW92ZWQuc2xpY2UoLW1heFNob3duKSkgZGlmZkxpbmVzLnB1c2goYC0gJHtmaWxlfWApOwogICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgbW9kaWZpZWQuc2xpY2UoLW1heFNob3duKSkgZGlmZkxpbmVzLnB1c2goYH4gJHtmaWxlfWApOwoKICAgICAgaWYgKHRvdGFsQ2hhbmdlcyA+IGRpZmZMaW5lcy5sZW5ndGgpIHsKICAgICAgICBkaWZmTGluZXMucHVzaChgLi4uIHNob3dpbmcgbGFzdCAke2RpZmZMaW5lcy5sZW5ndGh9LyR7dG90YWxDaGFuZ2VzfSBjaGFuZ2VzIC4uLmApOwogICAgICB9CgogICAgICBlbWJlZHMucHVzaCh7CiAgICAgICAgYXV0aG9yLAogICAgICAgIHRpdGxlOiBgJHtjaGFuZ2VJY29ufSBGaWxlIENoYW5nZXNgLAogICAgICAgIGRlc2NyaXB0aW9uOiAiYGBgZGlmZlxuIiArIGRpZmZMaW5lcy5qb2luKCJcbiIpICsgIlxuYGBgIiwKICAgICAgICBjb2xvcjogc2Vjb25kYXJ5Q29sb3IsCiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksCiAgICAgIH0pOwogICAgfQogIH0KfQ=="
}
