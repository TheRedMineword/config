{
    "file_rules": [
        {
            "match": "ws_players.json",
            "webhook": "dbupdate"
        },
        {
            "match": "primary/config.json",
            "webhook": "dbupdate"
        },
        {
            "match": "primary/motd.json",
            "webhook": "dbupdate"
        },
        {
            "match": "primary/server_rules.txt",
            "webhook": "dbupdate"
        },
        {
            "match": "primary/server_rules.json",
            "webhook": "dbupdate"
        }
    ],
    "event_webhook": {
        "xyz": "stars"
    },
    "use_custom_handler_for_events": [
        "push"
    ],
    "custom_handler_b64": "Ly8gQ3VzdG9tIGhhbmRsZXIgZm9yIHB1c2ggZXZlbnRzIHdpdGggdGhlbWVkIHN0eWxpbmcgZm9yIHNwZWNpYWwgZGF0YWJhc2UgZmlsZXMKaWYgKGV2ZW50ID09PSAicHVzaCIpIHsKICBlbWJlZHMubGVuZ3RoID0gMDsgLy8gY2xlYXIgZGVmYXVsdCBlbWJlZHMKCiAgY29uc3QgeyByZXBvc2l0b3J5LCByZWYsIGNvbW1pdHMsIHB1c2hlciwgY29tcGFyZSB9ID0gcGF5bG9hZDsKICBjb25zdCBicmFuY2ggPSByZWYuc3BsaXQoIi8iKS5wb3AoKTsKICBjb25zdCBzaG9ydEJyYW5jaCA9IGJyYW5jaC5sZW5ndGggPiAzMCA/IGJyYW5jaC5zbGljZSgwLCAyNykgKyAiLi4uIiA6IGJyYW5jaDsKCiAgLy8gR2F0aGVyIGFsbCBjaGFuZ2VkIGZpbGVzCiAgY29uc3QgY2hhbmdlZEZpbGVzID0gY29tbWl0cy5mbGF0TWFwKGMgPT4gWy4uLmMuYWRkZWQsIC4uLmMubW9kaWZpZWQsIC4uLmMucmVtb3ZlZF0pOwoKICBjb25zdCBpc1doaXRlRmlsZSA9IGNoYW5nZWRGaWxlcy5zb21lKGYgPT4gZi5pbmNsdWRlcygid3NfcGxheWVycy5qc29uIikpOwogIGNvbnN0IGlzUHJpbWFyeUZpbGUgPSBjaGFuZ2VkRmlsZXMuc29tZShmID0+IGYuaW5jbHVkZXMoInByaW1hcnkvY29uZmlnLmpzb24iKSk7CiAgY29uc3QgaXNNb3RkRmlsZSA9IGNoYW5nZWRGaWxlcy5zb21lKGYgPT4gZi5pbmNsdWRlcygicHJpbWFyeS9tb3RkLmpzb24iKSk7CiAgY29uc3QgaXNSdWxlc0ZpbGUgPSBjaGFuZ2VkRmlsZXMuc29tZShmID0+CiAgICBmLmluY2x1ZGVzKCJwcmltYXJ5L3NlcnZlcl9ydWxlcy5qc29uIikgfHwKICAgIGYuaW5jbHVkZXMoInByaW1hcnkvc2VydmVyX3J1bGVzLnR4dCIpCiAgKTsKCiAgLy8gVGhlbWUgcGFsZXR0ZQogIGxldCBhY2NlbnRDb2xvciA9IDB4MDBjY2ZmOyAvLyBkZWZhdWx0IGN5YW4tYmx1ZQogIGxldCBzZWNvbmRhcnlDb2xvciA9IDB4ODhjYzg4OyAvLyBkZWZhdWx0IGdyZWVuCiAgbGV0IHRpdGxlSWNvbiA9ICLwn5OmIjsKICBsZXQgY2hhbmdlSWNvbiA9ICLwn5OEIjsKICBsZXQgdGl0bGVUZXh0ID0gYFB1c2hlZCB0byAke3JlcG9zaXRvcnkubmFtZX06JHtzaG9ydEJyYW5jaH1gOwogIGxldCBzaG93RGlmZiA9IHRydWU7CgogIC8vIC0tLSBTcGVjaWFsIG1vZGVzIC0tLQogIGlmIChpc1doaXRlRmlsZSkgewogICAgYWNjZW50Q29sb3IgPSAweGZmZmZmZjsKICAgIHNlY29uZGFyeUNvbG9yID0gMHhlZWVlZWU7CiAgICB0aXRsZUljb24gPSAi8J+kjSI7CiAgICB0aXRsZVRleHQgPSAiRGF0YWJhc2UgVXBkYXRlZCI7CiAgICBzaG93RGlmZiA9IGZhbHNlOwoKICB9IGVsc2UgaWYgKGlzUHJpbWFyeUZpbGUpIHsKICAgIGFjY2VudENvbG9yID0gMHhmZjQ0NDQ7IC8vIHJlZAogICAgc2Vjb25kYXJ5Q29sb3IgPSAweDAwZmZmZjsgLy8gY3lhbgogICAgdGl0bGVJY29uID0gIuKdpO+4j/CfkpkiOwogICAgdGl0bGVUZXh0ID0gIlByaW1hcnkgRGF0YWJhc2UgVXBkYXRlZCI7CiAgICBzaG93RGlmZiA9IGZhbHNlOwoKICB9IGVsc2UgaWYgKGlzTW90ZEZpbGUpIHsKICAgIGFjY2VudENvbG9yID0gMHhmZmNjMDA7ICAgICAgLy8gZ29sZAogICAgc2Vjb25kYXJ5Q29sb3IgPSAweGZmZGQ1NTsgICAvLyBsaWdodCBnb2xkCiAgICB0aXRsZUljb24gPSAi8J+Xnu+4jyI7CiAgICB0aXRsZVRleHQgPSAiTWVzc2FnZSBPZiBUaGUgRGF5IENvbmZpZyBVcGRhdGVkIjsKICAgIHNob3dEaWZmID0gZmFsc2U7CgogIH0gZWxzZSBpZiAoaXNSdWxlc0ZpbGUpIHsKICAgIGFjY2VudENvbG9yID0gMHgzMzY2ZmY7ICAgICAvLyBzb2Z0IGJsdWUgZm9yIHJ1bGVzCiAgICBzZWNvbmRhcnlDb2xvciA9IDB4OTliYmZmOyAgLy8gbGlnaHQgYmx1ZQogICAgdGl0bGVJY29uID0gIvCfk5wiOyAgICAgICAgICAgLy8gc2Nyb2xsIGljb24gZm9yIOKAnHJ1bGVz4oCdCiAgICB0aXRsZVRleHQgPSAiU2VydmVyIFJ1bGVzIFVwZGF0ZWQiOwogICAgc2hvd0RpZmYgPSBmYWxzZTsKICB9CgogIC8vIENvbW1pdCBzdW1tYXJ5CiAgY29uc3QgY29tbWl0TGluZXMgPSBjb21taXRzCiAgICAubWFwKGMgPT4gYFtcYCR7Yy5pZC5zbGljZSgwLCA3KX1cYF0oJHtjLnVybH0pIOKAlCAke2MubWVzc2FnZS5zcGxpdCgiXG4iKVswXX1gKQogICAgLmpvaW4oIlxuIik7CgogIC8vIC0tLSBNYWluIEVtYmVkIC0tLQogIGVtYmVkcy5wdXNoKHsKICAgIGF1dGhvciwKICAgIHRpdGxlOiBgJHt0aXRsZUljb259ICR7dGl0bGVUZXh0fWAsCiAgICBkZXNjcmlwdGlvbjoKICAgICAgYCoqQnk6KiogJHtwdXNoZXIubmFtZSB8fCBwdXNoZXIuZW1haWx9XG5gICsKICAgICAgYCR7Y29tcGFyZSA/IGBbVmlldyBDaGFuZ2VzXSgke2NvbXBhcmV9KWAgOiAiIn1cblxuYCArCiAgICAgIGNvbW1pdExpbmVzLAogICAgY29sb3I6IGFjY2VudENvbG9yLAogICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksCiAgfSk7CgogIC8vIC0tLSBPcHRpb25hbCBmaWxlIGRpZmYgc3VtbWFyeSAoc2tpcHBlZCBpbiBzcGVjaWFsIG1vZGVzKSAtLS0KICBpZiAoc2hvd0RpZmYpIHsKICAgIGNvbnN0IGFkZGVkID0gW10sIHJlbW92ZWQgPSBbXSwgbW9kaWZpZWQgPSBbXTsKICAgIGZvciAoY29uc3QgY29tbWl0IG9mIGNvbW1pdHMpIHsKICAgICAgYWRkZWQucHVzaCguLi5jb21taXQuYWRkZWQpOwogICAgICByZW1vdmVkLnB1c2goLi4uY29tbWl0LnJlbW92ZWQpOwogICAgICBtb2RpZmllZC5wdXNoKC4uLmNvbW1pdC5tb2RpZmllZCk7CiAgICB9CgogICAgY29uc3QgdG90YWxDaGFuZ2VzID0gYWRkZWQubGVuZ3RoICsgcmVtb3ZlZC5sZW5ndGggKyBtb2RpZmllZC5sZW5ndGg7CiAgICBpZiAodG90YWxDaGFuZ2VzID4gMCkgewogICAgICBjb25zdCBtYXhTaG93biA9IDIwOwogICAgICBjb25zdCBkaWZmTGluZXMgPSBbXTsKCiAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBhZGRlZC5zbGljZSgtbWF4U2hvd24pKSBkaWZmTGluZXMucHVzaChgKyAke2ZpbGV9YCk7CiAgICAgIGZvciAoY29uc3QgZmlsZSBvZiByZW1vdmVkLnNsaWNlKC1tYXhTaG93bikpIGRpZmZMaW5lcy5wdXNoKGAtICR7ZmlsZX1gKTsKICAgICAgZm9yIChjb25zdCBmaWxlIG9mIG1vZGlmaWVkLnNsaWNlKC1tYXhTaG93bikpIGRpZmZMaW5lcy5wdXNoKGB+ICR7ZmlsZX1gKTsKCiAgICAgIGlmICh0b3RhbENoYW5nZXMgPiBkaWZmTGluZXMubGVuZ3RoKSB7CiAgICAgICAgZGlmZkxpbmVzLnB1c2goYC4uLiBzaG93aW5nIGxhc3QgJHtkaWZmTGluZXMubGVuZ3RofS8ke3RvdGFsQ2hhbmdlc30gY2hhbmdlcyAuLi5gKTsKICAgICAgfQoKICAgICAgZW1iZWRzLnB1c2goewogICAgICAgIGF1dGhvciwKICAgICAgICB0aXRsZTogYPCfk4QgRmlsZSBDaGFuZ2VzYCwKICAgICAgICBkZXNjcmlwdGlvbjogImBgYGRpZmZcbiIgKyBkaWZmTGluZXMuam9pbigiXG4iKSArICJcbmBgYCIsCiAgICAgICAgY29sb3I6IHNlY29uZGFyeUNvbG9yLAogICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLAogICAgICB9KTsKICAgIH0KICB9Cn0="
}
