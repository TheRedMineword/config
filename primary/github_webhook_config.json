{
    "file_rules": [
  { "match": "test", "webhook": "stars" }
],
    "event_webhook": {
        "push": "stars"
    },
    "use_custom_handler_for_events": [
        "push"
    ],
    "custom_handler_b64": "Ly8gQ3VzdG9tIGhhbmRsZXIgZm9yIHB1c2ggZXZlbnQKaWYgKGV2ZW50ID09PSAicHVzaCIpIHsKICBjb25zdCB7IHJlcG9zaXRvcnksIHJlZiwgY29tbWl0cywgcHVzaGVyLCBjb21wYXJlIH0gPSBwYXlsb2FkOwogIGNvbnN0IGJyYW5jaCA9IHJlZi5zcGxpdCgiLyIpLnBvcCgpOwogIGNvbnN0IHNob3J0QnJhbmNoID0gYnJhbmNoLmxlbmd0aCA+IDMwID8gYnJhbmNoLnNsaWNlKDAsIDI3KSArICIuLi4iIDogYnJhbmNoOwoKICAvLyBNYWluIGNvbW1pdCBzdW1tYXJ5CiAgY29uc3QgY29tbWl0TGluZXMgPSBjb21taXRzCiAgICAubWFwKGMgPT4gYFtcYCR7Yy5pZC5zbGljZSgwLCA3KX1cYF0oJHtjLnVybH0pIC0gJHtjLm1lc3NhZ2Uuc3BsaXQoIlxuIilbMF19YCkKICAgIC5qb2luKCJcbiIpOwoKICBlbWJlZHMucHVzaCh7CiAgICBhdXRob3IsCiAgICB0aXRsZTogYPCfk6YgUHVzaGVkIHRvICR7cmVwb3NpdG9yeS5uYW1lfToke3Nob3J0QnJhbmNofWAsCiAgICBkZXNjcmlwdGlvbjoKICAgICAgYCoqQnk6KiogJHtwdXNoZXIubmFtZSB8fCBwdXNoZXIuZW1haWx9XG5gICsKICAgICAgYCR7Y29tcGFyZSA/IGBbVmlldyBDaGFuZ2VzXSgke2NvbXBhcmV9KWAgOiAiIn1cblxuYCArCiAgICAgIGNvbW1pdExpbmVzLAogICAgY29sb3I6IDB4MDBjY2ZmLAogICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksCiAgfSk7CgogIC8vIEZpbGUgY2hhbmdlcyBzdW1tYXJ5CiAgY29uc3QgYWRkZWQgPSBbXTsKICBjb25zdCByZW1vdmVkID0gW107CiAgY29uc3QgbW9kaWZpZWQgPSBbXTsKCiAgZm9yIChjb25zdCBjb21taXQgb2YgY29tbWl0cykgewogICAgYWRkZWQucHVzaCguLi5jb21taXQuYWRkZWQpOwogICAgcmVtb3ZlZC5wdXNoKC4uLmNvbW1pdC5yZW1vdmVkKTsKICAgIG1vZGlmaWVkLnB1c2goLi4uY29tbWl0Lm1vZGlmaWVkKTsKICB9CgogIGNvbnN0IHRvdGFsQ2hhbmdlcyA9IGFkZGVkLmxlbmd0aCArIHJlbW92ZWQubGVuZ3RoICsgbW9kaWZpZWQubGVuZ3RoOwogIGlmICh0b3RhbENoYW5nZXMgPiAwKSB7CiAgICBjb25zdCBtYXhTaG93biA9IDIwOwogICAgY29uc3QgZGlmZkxpbmVzID0gW107CgogICAgZm9yIChjb25zdCBmaWxlIG9mIGFkZGVkLnNsaWNlKC1tYXhTaG93bikpIGRpZmZMaW5lcy5wdXNoKGArICR7ZmlsZX1gKTsKICAgIGZvciAoY29uc3QgZmlsZSBvZiByZW1vdmVkLnNsaWNlKC1tYXhTaG93bikpIGRpZmZMaW5lcy5wdXNoKGAtICR7ZmlsZX1gKTsKICAgIGZvciAoY29uc3QgZmlsZSBvZiBtb2RpZmllZC5zbGljZSgtbWF4U2hvd24pKSBkaWZmTGluZXMucHVzaChgfiAke2ZpbGV9YCk7CgogICAgaWYgKHRvdGFsQ2hhbmdlcyA+IGRpZmZMaW5lcy5sZW5ndGgpIHsKICAgICAgZGlmZkxpbmVzLnB1c2goYC4uLiBzaG93aW5nIGxhc3QgJHtkaWZmTGluZXMubGVuZ3RofS8ke3RvdGFsQ2hhbmdlc30gY2hhbmdlcyAuLi5gKTsKICAgIH0KCiAgICBlbWJlZHMucHVzaCh7CiAgICAgIGF1dGhvciwKICAgICAgdGl0bGU6ICLwn5OBIEZpbGUgQ2hhbmdlcyBpbiBQdXNoIiwKICAgICAgZGVzY3JpcHRpb246ICJgYGBcbiIgKyBkaWZmTGluZXMuam9pbigiXG4iKSArICJcbmBgYCIsCiAgICAgIGNvbG9yOiAweDg4Y2M4OCwKICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksCiAgICB9KTsKICB9Cn0="
}
